diff --git a/CMakeLists.txt b/CMakeLists.txt
index 12ade5e8a..3e5d0c797 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -14,6 +14,9 @@
 ## limitations under the License.                                           ##
 ## ======================================================================== ##
 
+## NOTE: This file has been modified by a Galaxy patch.
+##       See the GALAXY BEGIN / GALAXY END block(s) below.
+
 set(CMAKE_DISABLE_SOURCE_CHANGES ON)
 set(CMAKE_DISABLE_IN_SOURCE_BUILD ON)
 
@@ -41,6 +44,12 @@ SET(OSPCOMMON_DIR ${COMPONENTS_DIR}/ospcommon)
 SET(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} ${PROJECT_SOURCE_DIR}/cmake)
 SET(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} ${OSPCOMMON_DIR}/cmake)
 
+# GALAXY BEGIN ADDED CODE - by Galaxy patch
+IF(CMAKE_INSTALL_PREFIX_INITIALIZED_TO_DEFAULT)
+  SET(CMAKE_INSTALL_PREFIX ${PROJECT_SOURCE_DIR}/install CACHE PATH "Install path prefix, prepended onto install directories." FORCE)
+ENDIF(CMAKE_INSTALL_PREFIX_INITIALIZED_TO_DEFAULT)
+# GALAXY END ADDED CODE - by Galaxy patch
+
 ##############################################################
 # CMake modules and macro files
 ##############################################################
diff --git a/cmake/ospray_macros.cmake b/cmake/ospray_macros.cmake
index d16d44b91..00ba6e8f0 100644
--- a/cmake/ospray_macros.cmake
+++ b/cmake/ospray_macros.cmake
@@ -14,6 +14,9 @@
 ## limitations under the License.                                           ##
 ## ======================================================================== ##
 
+## NOTE: This file has been modified by a Galaxy patch.
+##       See the GALAXY BEGIN / GALAXY END block(s) below.
+
 function(ospray_check_embree_feature FEATURE DESCRIPTION)
   set(FEATURE EMBREE_${FEATURE})
   if(NOT ${ARGN})
@@ -40,7 +43,14 @@ function(ospray_verify_embree_features)
 endfunction()
 
 macro(ospray_find_embree EMBREE_VERSION_REQUIRED)
-  find_package(embree ${EMBREE_VERSION_REQUIRED} QUIET)
+  # GALAXY BEGIN MODIFIED CODE - by Galaxy patch
+  # original code: find_package(embree ${EMBREE_VERSION_REQUIRED} QUIET)
+  find_package(embree ${EMBREE_VERSION_REQUIRED}
+    PATHS ${PROJECT_SOURCE_DIR}/../embree/install/lib64/cmake
+          ${PROJECT_SOURCE_DIR}/../embree/install/lib/cmake
+          ${PROJECT_SOURCE_DIR}/../embree/build
+    QUIET)
+  # GALAXY END MODIFIED CODE - by Galaxy patch
   if(NOT DEFINED EMBREE_INCLUDE_DIRS)
     message(FATAL_ERROR
             "We did not find Embree installed on your system. OSPRay requires"
@@ -52,6 +62,12 @@ macro(ospray_find_embree EMBREE_VERSION_REQUIRED)
     message(STATUS "Found Embree v${EMBREE_VERSION}: ${EMBREE_LIBRARY}")
   endif()
 
+  # GALAXY BEGIN ADDED CODE - by Galaxy patch
+  if (EMBREE_STATIC_LIB)
+    # use import target to include full static lib chain
+    set(EMBREE_LIBRARY embree)
+  endif()
+  # GALAXY END ADDED CODE - by Galaxy patch
   set(EMBREE_LIBRARIES ${EMBREE_LIBRARY})
 endmacro()
 
diff --git a/components/ospcommon/cmake/ispc.cmake b/components/ospcommon/cmake/ispc.cmake
index b70fc0728..338d47028 100644
--- a/components/ospcommon/cmake/ispc.cmake
+++ b/components/ospcommon/cmake/ispc.cmake
@@ -14,29 +14,69 @@
 ## limitations under the License.                                           ##
 ## ======================================================================== ##
 
+## NOTE: This file has been modified by a Galaxy patch.
+##       See the GALAXY BEGIN / GALAXY END block(s) below.
+
+# GALAXY BEGIN MODIFIED CODE - by Galaxy patch
+# original code:
+# # ISPC versions to look for, in decending order (newest first)
+# SET(ISPC_VERSION_WORKING "1.9.2" "1.9.1")
+# LIST(GET ISPC_VERSION_WORKING -1 ISPC_VERSION_REQUIRED)
+
+# IF (NOT ISPC_EXECUTABLE)
+#   # try sibling folder as hint for path of ISPC
+#   IF (APPLE)
+#     SET(ISPC_DIR_SUFFIX "osx")
+#   ELSEIF(WIN32)
+#     SET(ISPC_DIR_SUFFIX "windows")
+#     IF (MSVC_VERSION LESS 1900)
+#       MESSAGE(WARNING "MSVC 12 2013 is not supported anymore.")
+#     ELSE()
+#       LIST(APPEND ISPC_DIR_SUFFIX "windows-vs2015")
+#     ENDIF()
+#   ELSE()
+#     SET(ISPC_DIR_SUFFIX "linux")
+#   ENDIF()
+#   FOREACH(ver ${ISPC_VERSION_WORKING})
+#     FOREACH(suffix ${ISPC_DIR_SUFFIX})
+#       LIST(APPEND ISPC_DIR_HINT ${PROJECT_SOURCE_DIR}/../ispc-v${ver}-${suffix})
+#     ENDFOREACH()
+#   ENDFOREACH()
+# new code (taken from ospray/components/ospcommon/cmake/ispc.cmake v1.8.5)
 # ISPC versions to look for, in decending order (newest first)
-SET(ISPC_VERSION_WORKING "1.9.2" "1.9.1")
-LIST(GET ISPC_VERSION_WORKING -1 ISPC_VERSION_REQUIRED)
+set(ISPC_VERSION_WORKING "1.10.0" "1.9.2" "1.9.1")
+list(GET ISPC_VERSION_WORKING -1 ISPC_VERSION_REQUIRED)
 
-IF (NOT ISPC_EXECUTABLE)
+if (NOT ISPC_EXECUTABLE)
   # try sibling folder as hint for path of ISPC
-  IF (APPLE)
-    SET(ISPC_DIR_SUFFIX "osx")
-  ELSEIF(WIN32)
-    SET(ISPC_DIR_SUFFIX "windows")
-    IF (MSVC_VERSION LESS 1900)
-      MESSAGE(WARNING "MSVC 12 2013 is not supported anymore.")
-    ELSE()
-      LIST(APPEND ISPC_DIR_SUFFIX "windows-vs2015")
-    ENDIF()
-  ELSE()
-    SET(ISPC_DIR_SUFFIX "linux")
-  ENDIF()
-  FOREACH(ver ${ISPC_VERSION_WORKING})
-    FOREACH(suffix ${ISPC_DIR_SUFFIX})
-      LIST(APPEND ISPC_DIR_HINT ${PROJECT_SOURCE_DIR}/../ispc-v${ver}-${suffix})
-    ENDFOREACH()
-  ENDFOREACH()
+  if (APPLE)
+    set(ISPC_DIR_SUFFIX "osx" "Darwin")
+  elseif(WIN32)
+    set(ISPC_DIR_SUFFIX "windows" "win32")
+    if (MSVC_VERSION LESS 1900)
+      message(WARNING "MSVC 12 2013 is not supported anymore.")
+    else()
+      list(APPEND ISPC_DIR_SUFFIX "windows-vs2015")
+    endif()
+  else()
+    set(ISPC_DIR_SUFFIX "linux" "Linux")
+  endif()
+  foreach(v "" "v")
+   foreach(ver ${ISPC_VERSION_WORKING})
+    foreach(suffix ${ISPC_DIR_SUFFIX})
+     foreach(d "" "/bin")
+      list(APPEND ISPC_DIR_HINT ${PROJECT_SOURCE_DIR}/../ispc-${v}${ver}-${suffix}${d})
+      # GALAXY BEGIN ADDED CODE - by Galaxy patch
+      LIST(APPEND ISPC_DIR_HINT ${PROJECT_SOURCE_DIR}/../ispc/ispc-${v}${ver}-${suffix}${d})
+      LIST(APPEND ISPC_DIR_HINT ${PROJECT_SOURCE_DIR}/third-party/ispc/ispc-${v}${ver}-${suffix}${d})
+      LIST(APPEND ISPC_DIR_HINT ${PROJECT_SOURCE_DIR}/../ispc/install/ispc-${v}${ver}-${suffix}${d})
+      LIST(APPEND ISPC_DIR_HINT ${PROJECT_SOURCE_DIR}/third-party/ispc/install/ispc-${v}${ver}-${suffix}${d})
+      # GALAXY END ADDED CODE - by Galaxy patch
+     endforeach()
+    endforeach()
+   endforeach()
+  endforeach()
+# GALAXY END MODIFIED CODE - by Galaxy patch
 
   FIND_PROGRAM(ISPC_EXECUTABLE ispc HINTS ${ISPC_DIR_HINT} DOC "Path to the ISPC executable.")
   IF (NOT ISPC_EXECUTABLE)
diff --git a/ospray/CMakeLists.txt b/ospray/CMakeLists.txt
index 951aedb67..3bd2969ae 100644
--- a/ospray/CMakeLists.txt
+++ b/ospray/CMakeLists.txt
@@ -14,6 +14,9 @@
 ## limitations under the License.                                           ##
 ## ======================================================================== ##
 
+## NOTE: This file has been modified by a Galaxy patch.
+##       See the GALAXY BEGIN / GALAXY END block(s) below.
+
 OPTION(EXP_NEW_BB_VOLUME_KERNELS "Experimental new block/bricked volume layout" ON)
 MARK_AS_ADVANCED(EXP_NEW_BB_VOLUME_KERNELS)
 
@@ -276,6 +279,9 @@ OSPRAY_INSTALL_SDK_HEADERS(
   common/Ray.ih
   common/Texture.h
   common/Util.h
+  # GALAXY BEGIN ADDED CODE - by Galaxy patch
+  common/safe_gather.ih
+  # GALAXY END ADDED CODE - by Galaxy patch
   DESTINATION common
 )
 
